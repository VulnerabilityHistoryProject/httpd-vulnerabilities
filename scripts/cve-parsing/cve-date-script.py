from bs4 import BeautifulSoup
import requests
import re


cveName = "CVE-2002-0392"
def getCVE(cveName):
    url = "https://www.cvedetails.com/cve/"

# notes: need to iterate thourhg "listofcves" to fill cveName and then write that retrieved date into the cve skeletons

# requests cve page // url for cve site + cve name
    r = requests.get(url+cveName)
    inputfile = r.text
    soup = BeautifulSoup(inputfile, 'html.parser')
    dateExpression = re.compile("Publish Date")
    dateList = (soup.find_all("span", {"class": "datenote"}))
    dateFound = (str(dateList[0]))
    # Publish Date :
    # 012345678901234 = 15, becuase index start @ p
    # date format == xxxx-xx-xx
    #                0123456789 = 10
    publishDateStart = dateFound.find('P') + 15
    publishDateEnd = 10 
    return(dateFound[publishDateStart:(publishDateStart + publishDateEnd)])


